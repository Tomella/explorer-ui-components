!function(e){"use strict";e.module("explorer.assets",["explorer.projects"]).factory("assetsService",["$log","$http","$q","projectsService","$timeout",function(t,n,r,a,i){function o(e){e="Explorer",t.debug(c+encodeURIComponent(e)),n.get(c+e+"?t="+d,{cache:!0}).success(function(e){s=e,l.forEach(function(e){e.resolve(s)})})}var s,l=[],c="service/asset/assets/",d=Date.now();return a.getCurrentProject().then(o),{getAsset:function(e){return s[e]},getAssets:function(){var e;return s?r.when(s):(e=r.defer(),l.push(e),e.promise)},getReferenceFeatureClasses:function(){var t=r.defer();return this.getAssets().then(function(n){var r=[];e.forEach(n,function(e,t){"REFERENCE_FEATURE_CLASS"==e.assetType&&this.push(e)},r),t.resolve(r)}),t.promise},getResourceKey:function(e){return e.assetId},getResource:function(e){return this.getAsset(e)}}}])}(angular),function(e){"use strict";e.module("explorer.asynch",[]).provider("asynch",function(){function t(t){var n=[];return e.forEach(t,function(e,t){n.push(t+"="+encodeURIComponent(e))}),n.join("&")}var n="process/initiateJob",r="process/checkStatus",a=9e3,i=3e3,o="slow",s={},l=0,c=0,d=null,u=null,p={};this.url=function(e){n=e},this.statusUrl=function(e){r=e},this.broker=function(e){u=e},this.idlePoll=function(e){a=e},this.waitingPoll=function(e){i=e},this.$get=["$log","$http","$q","$timeout",function(f,g,m,v){function h(){if(g({url:r,method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t(p)}).then(function(e){var t=e.data&&e.data.messages?e.data.messages:[];c--,t.forEach(function(e){var t=s[e.processkey];t&&t.promise?(l-=1,t.promise.resolve(e),delete s[e.processkey]):(f.debug("Delegate to broker. Message received for non-existant processKey = "+e.processkey),u&&u.route(e))}),1>l&&1>c&&(o="slow",c=l=0),v.cancel(d),d=v(h,"slow"==o?a:i)},function(e){c--,v.cancel(d),d=v(h,a),f.debug("We have an error in the asynch provider:"+JSON.stringify(e))}),1>l&&1>c)o="slow";else{var n=Date.now();e.forEach(s,function(e,t){e.expires<n&&(l-=1,delete s[t],e.promise.reject({error:"expired job"}))})}}function y(r,a,c){var u=m.defer(),y={job:r},b=e.extend({},p,a),w=c?c.urlEncoded:!1,x=c?c.noWait:!1,k=Date.now(),A=c.timeToLive?c.timeToLive:600,L=k+1e3*A;return w&&(y["Content-Type"]="application/x-www-form-urlencoded",b=t(b)),g({url:n,method:"post",headers:y,data:b}).then(function(e){var t=e.headers();x?u.resolve(e.data):(s[t.processkey]={promise:u,expires:L},"slow"==o&&(v.cancel(d),o="fast",d=v(h,i)),++l)},function(e){f.debug(JSON.stringify(e))}),u.promise}return d=v(h,"slow"==o?a:i),y.setBroker=function(e){u=e},y.addParameter=function(e,t){p[e]=t},y.expect=function(){c=5,o="fast"},y}]})}(angular),function(e){"use strict";e.module("explorer.broker",[]).factory("brokerService",["$log",function(t){var n={};return{register:function(e,t){e in n||(n[e]={}),n[e][t]=t},deregister:function(e,t){e in n&&t in n[e]&&delete n[e][t]},route:function(r){r.jobName&&n[r.jobName]?e.forEach(n[r.jobName],function(e){e.process(r)}):t.debug("No handler found for "+r.jobName)}}}])}(angular),function(e){"use strict";e.module("explorer.config",["explorer.httpdata","explorer.waiting"]).provider("configService",function(){var e,t,n="service/appConfig/config",r="service/appConfig/config?t=",a=Date.now()%1e7;this.location=function(e){n=e},this.dynamicLocation=function(e){r=e},this.$get=["$q","httpData","waiting",function(i,o,s){var l={getConfig:function(e){var t;return e?(t=i.defer(),this._getConfig().then(function(n){t.resolve(n[e])}),t.promise):this._getConfig()},_getConfig:function(){var l;return t||(t=s.wait()),e?i.when(e):(l=t.waiter(),t.length<2&&o.get(n,{cache:!0}).then(function(n){function i(){e=n,n.localClientSessionId=n.clientSessionId+"-"+a,t.resolve(n),t=null}n.clientSessionId&&n.version?i():o.get(r+Date.now()).then(function(e){n.clientSessionId=e.clientSessionId,n.version=e.version,i()})}),l.promise)}};return l}]})}(angular),function(e){"use strict";e.module("explorer.confirm",["ui.bootstrap","explorer.focusme"]).directive("expConfirm",["confirmService",function(e){return{scope:{success:"&",cancel:"&",expConfirm:"="},link:function(t,n){n.on("click",function(n){e.confirm(t)})}}}]).factory("confirmService",["$log","$modal",function(e,t){return{confirm:function(n){var r;n.confirmed=!1,r=t.open({templateUrl:"components/confirm/confirm.html",size:"sm",backdrop:"static",keyboard:!1,controller:["$scope","$modalInstance","message",function(e,t,n){e.message=n,e.accept=function(){t.close(!0)},e.reject=function(){t.close(!1)}}],resolve:{message:function(){return n.expConfirm}}}),r.opened.then(function(){}),r.result.then(function(t){e.info("Confirmed : "+t),t?n.success():n.cancel&&n.cancel()})}}}])}(angular),function(e){"use strict";e.module("explorer.drag",[]).directive("dragParent",["$document","$timeout",function(e,t){return{link:function(n,r,a){function i(e){var n=e.pageX-s,r=e.pageY-l,a=document.body.getBoundingClientRect();n<10-c.width?n=10-c.width:n>a.width-10&&(n=a.width-10),0>r?r=0:r>a.height-25&&(r=a.height-25),u.css({top:r+"px",left:n+"px",right:"",bottom:""}),t.cancel(d),d=t(o,2e3)}function o(){e.off("mousemove",i),e.off("mouseup",o)}var s,l,c,d,u=null;r.css({cursor:"pointer"}),r.on("mousedown",function(n){n.preventDefault(),u||(u=r,a.parentclass&&(u=r.closest("."+a.parentclass))),d=t(o,2e3),c=u[0].getBoundingClientRect(),l=n.pageY-c.top,s=n.pageX-c.left,e.on("mousemove",i),e.on("mouseup",o)})}}}])}(angular),function(e){"use strict";e.module("explorer.enter",[]).directive("expEnter",[function(){return{scope:{expEnter:"&"},link:function(e,t,n){t.on("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.expEnter()}),t.preventDefault())})}}}])}(angular),function(e,t){"use strict";e.module("explorer.feature.indicator",["explorer.projects"]).factory("indicatorService",["$log","$q","$http","$rootScope","projectsService","assetsService",function(n,r,a,i,o,s){var l="service/asset/counts",c=null,d=null,u=null;return{checkImpact:function(n){var i,p;return p=u=new Date,c&&c.resolve(null),i=c=r.defer(),o.getCurrentProject().then(function(r){r="Explorer",a.post(l,{wkt:n,md5:d,project:r}).success(function(n,r){if(p==u&&n.refreshRequired)if(200==r)s.getAssets().then(function(t){var r=n.countMap;d=n.md5,e.forEach(t,function(e,t){e.count=r[t]?r[t]:0})});else{var a="We have problem checking indicators.";n&&(e.isString(n)&&(a=t.parse(n)),n.error&&(a=n.error))}i.resolve(n),c=null})}),i.promise}}}])}(angular,JSON),function(e){"use strict";e.module("explorer.flasher",[]).factory("flashService",["$timeout",function(e){var t={items:[]};return{getData:function(){return t},add:function(n,r,a){"undefined"==typeof a&&(a=!1);var i={text:n,spinner:a,service:this,remove:function(){this.service.remove(this)}},o=this;return r=r?r:1e4,t.items.push(i),i.timer=e(function(){i.timer=null,o.remove(i)},r),i},remove:function(n){if(n){n.timer&&e.cancel(n.timer);var r=t.items.indexOf(n);r>-1&&t.items.splice(r,1)}}}}]).directive("explorerFlash",["flashService","$timeout",function(e,t){return{restrict:"AE",controller:["$scope","flashService",function(e,t){e.messages=t.getData()}],templateUrl:"components/flasher/flash.html",link:function(e,t,n){t.addClass("marsFlash")}}}])}(angular),function(e){"use.strict";e.module("explorer.focusme",[]).directive("focusMe",["$log","$timeout",function(e,t){return{link:function(e,n,r){r.$observe("focusMe",function(e){"true"===e&&t(function(){n.focus()})})}}}])}(angular),function(e){"use strict";e.module("page.footer",[]).directive("pageFooter",[function(){return{restrict:"EA",templateUrl:"components/footer/footer.html"}}]).run(["$templateCache",function(e){e.put("components/footer/footer.html",'<nav class="navbar navbar-inverse navbar-fixed-bottom ga-footer" role="navigation" explorer-footer>  <div class="container-fluid">    <div class="navbar-header">      <button type="button" class="navbar-toggle" data-toggle="collapse"            data-target="#bs-example-navbar-collapse-1">        <span class="sr-only">Toggle footer</span>        <span class="icon-bar"></span>        <span class="icon-bar"></span>        <span class="icon-bar"></span>      </button>    </div>    <div class="navbar-nobrand">      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">        <ul class="nav navbar-nav">          <li><a href="http://creativecommons.org/licenses/by/3.0/au/deed.en"><img               src="assets/img/cc-by.png" height="20px" alt="CC BY 3.0 AU"/></a></li>          <li><a href="http://www.ga.gov.au/copyright">Copyright</a></li>          <li><a href="http://www.ga.gov.au/disclaimer">Disclaimer</a></li>          <li><a href="http://www.ga.gov.au/privacy">Privacy</a></li>          <li><a href="http://www.ga.gov.au/accessibility">Accessibility</a></li>          <li><a href="http://www.ga.gov.au/ips">Information Publication Scheme</a></li>          <li><a href="http://www.ga.gov.au/ips/foi">Freedom of Information</a></li>          <li class="contact"><a href="http://www.ga.gov.au/contact-us" target="_blank">Contact us</a></li>        </ul>      </div>    </div>  </div></nav>')}]).directive("explorerFooter",["$timeout",function(e){return{restrict:"EA",controller:["$scope",function(e){}],link:function(t,n,r){function a(e){n.delay(e).animate({bottom:-t.originalHeight+7},1e3,function(){t.hidden=!0})}function i(){n.animate({bottom:0},1e3,function(){t.hidden=!1})}t.originalHeight=n.height(),n.on("mouseenter",function(n){t.timeout&&(e.cancel(t.timeout),t.timeout=null),t.timeout=e(function(){i(),t.timeout=null},300)}),n.on("mouseleave",function(){null!==t.timeout?(e.cancel(t.timeout),t.timeout=null):a(0)}),a(3e3)}}}])}(angular),function(e){"use strict";e.module("explorer.googleanalytics",[]).directive("expGa",["$window","ga",function(e,t){return{restrict:"A",replace:!1,scope:{expGa:"="},link:function(e,n,r){function a(){t(e.expGa)}var i=r.gaOn||"click";"init"==i?a(e.ga):n.on(i,a)}}}]).factory("ga",["$log","$window",function(e,t){return function(){t.ga?t.ga.apply(this,arguments):(e.warn("No Google Analytics"),e.warn(scope.expGa))}}])}(angular),function(e,t){"use strict";e.module("graph",[]).directive("explorerGraph",["$log",function(e){var n=90;return{templateUrl:"components/graph/lineGraph.html?v=1",scope:{data:"=",config:"=",enter:"&",leave:"&",move:"&",click:"&",showZeroLine:"="},controller:["$scope",function(e){e.round=function(e){return Math.round(e)},e.showZeroLine=!!e.showZeroLine}],link:function(r,a){function i(t){var n,i,o=a.find("svg")[0],s=o.getBoundingClientRect(),l=1050/s.width,c=Math.floor((t.pageX-s.left)*l-48);r.lastIndex!=c&&(r.lastIndex=c,c>-1&&1e3>c?(n=[],r.data.forEach(function(t){var r=Math.round(c*t.data.length/1e3),a=t.data[r];e.debug(r),n.push({index:r,point:a})}),i=c,r.position={index:c,percentX:(c+1)/10,rangeY:r.rangeY,y:{range:r.rangeY,max:r.maxY,min:r.minY},graphX:i,graphY:t.pageY-s.top,pageX:t.pageX,pageY:t.pageY,points:n,point:n.length>0?n[0].point:null}):r.position=null)}function o(a){function i(e,n,r){var a,i=n-e;return r||(r=5),a=5>i?1:12>i?2:24>i?5:60>i?10:120>i?20:240>i?50:600>i?100:1200>i?200:2400>i?500:6e3>i?1e3:12e3>i?2e3:24e3>i?5e3:6e4>i?1e4:2e4,t.range(e-Math.abs(e%a)+a,n+(a-Math.abs(n%a)),a)}a||(a=[[]]),e.debug(a.length);var o=[];a.forEach(function(e){e.data&&o.push.apply(o,e.data)}),r.minY=t.min(o,function(e){return e.z}),r.maxY=t.max(o,function(e){return e.z}),r.rangeY=r.maxY-r.minY,r.yTicks=i(r.minY,r.maxY),r.y=t.scale.linear().range([n,0]),r.y.domain(t.extent(o,function(e){return e.z}))}r.mouseLeave=function(e){r.position=null,r.leave&&r.leave({event:e})},r.mouseEnter=function(e){r.enter&&r.enter({event:e})},r.mouseMove=function(e){i(e),e.position=r.position,r.move&&r.move({event:e})},r.mouseClick=function(e){e.preventDefault(),r.click&&(e.position=r.position,r.click({event:e}))},r.$watch("data",o),o()}}}]).directive("explorerLine",[function(){var e=1e3,n=90;return{restrict:"AE",controller:["$scope",function(r){function a(a){var o=a.data;if(!o||!o.length)return void(r.calculateLines=r.calculatePath=i);r.minX=0,r.maxX=o.length,r.rangeX=o.length,r.deltaLength=1;var s=t.time.scale().range([0,e]),l=r.y;s.domain(t.extent(o,function(e,t){return t})),r.calculatePath=t.svg.area().interpolate("monotone").x(function(e,t){return s(t)}).y0(n).y1(function(e){return l(null!==e.z?e.z:r.minY)}),r.calculateLine=t.svg.line().interpolate("monotone").x(function(e,t){return s(t)}).y(function(e){return l(null!==e.z?e.z:r.minY)}),r.line=r.calculateLine(o),r.path=r.calculatePath(o)}function i(){return""}r.$watch("points",a)}]}}])}(angular,d3),function(e){"use strict";e.module("explorer.header",[]).controller("headerController",["$scope","$q","$timeout",function(e,t,n){var r=function(e){return e};e.$on("headerUpdated",function(t,n){e.headerConfig=r(n)})}]).directive("explorerHeader",[function(){var t={heading:"Geoscience Australia",headingtitle:"Geoscience Australia",helpurl:"help.html",helptitle:"Get help about Geoscience Australia",helpalttext:"Get help about Geoscience Australia",skiptocontenttitle:"Skip to content",skiptocontent:"Skip to content",quicklinksurl:"/search/api/quickLinks/json?lang=en-US"};return{transclude:!0,restrict:"EA",templateUrl:"components/header/header.html?v=1",scope:{heading:"=",headingtitle:"=",helpurl:"=",helptitle:"=",helpalttext:"=",skiptocontenttitle:"=",skiptocontent:"=",quicklinksurl:"="},link:function(n,r,a){e.copy(t);e.forEach(t,function(e,t){t in n||(n[t]=e)})}}}])}(angular),function(e,t,n){"use strict";n.module("explorer.height.delta",[]).directive("heightDelta",["$timeout",function(n){return{link:function(r,a,i){function o(t){var n,r,o,s=i.heightDelta;s&&(n=JSON.parse(s),r=e(n.selector).height(),o=r+n.delta,(!n.min||o>n.min)&&a.height(o))}e(t).on("resize",function(){o(!1)}),n(function(){o(!0)})}}}])}($,window,angular),function(e){"use strict";e.module("explorer.httpdata",[]).factory("httpData",["$http","$q",function(e,t){return{get:function(e,t){return this._method("get",e,t)},post:function(e,t){return this._method("post",e,t)},put:function(e,t){return this._method("put",e,t)},_method:function(n,r,a){var i=t.defer();return e[n](r,a).then(function(e){i.resolve(e?e.data:null)},function(e){i.reject(e)}),i.promise}}}])}(angular),function(e,t){"use strict";e.module("explorer.httpinterceptors",["explorer.httpinterceptors.message","explorer.httpinterceptors.authentication"]),e.module("explorer.httpinterceptors.message",[]).factory("messageHttpInterceptor",["$q","$log","messageService",function(t,n,r){var a=function(t){var n,a=t?t.data:null;e.isObject(a)&&"text"in a&&"code"in a&&("type"in a||"severity"in a)&&(n={text:t.data.text,type:(t.data.type?t.data.type:t.data.severity).toLowerCase(),show:!0},r[n.type](n.text))};return{response:function(e){return a(e),e},responseError:function(e){return a(e),t.reject(e)}}}]).config(["$httpProvider",function(e){e.interceptors.push("messageHttpInterceptor")}]),e.module("explorer.httpinterceptors.authentication",[]).factory("expHttpInterceptor",["$rootScope","$q",function(e,n){return{responseError:function(n){if(n&&401!==n.status&&0!==n.status&&302!==n.status){if(403!==n.status)return n;e.$broadcast("unauthorized")}else t.location.reload()}}}]).config(["$httpProvider",function(e){e.interceptors.push("expHttpInterceptor")}])}(angular,window),function(e){"use strict";e.module("explorer.info",[]).directive("expInfo",["$document","$animate",function(e,t){return{restrict:"EA",transclude:!0,replace:!0,scope:{title:"@",isOpen:"="},templateUrl:"components/info/info.html?v=1",link:function(t,n){function r(e){27==e.which&&(e.stopPropagation(),e.preventDefault(),t.$apply(function(){t.isOpen=!1}))}t.$watch("isOpen",function(n){n?e.on("keyup",r):e.off("keyup",r),t.$on("$destroy",function(){e.off("keyup",r)})})}}}])}(angular),function(e){"use strict";e.module("knob",[]).directive("knob",["$document",function(t){var n={circleColor:"#A33F1F",min:0,max:10,startAngle:0,pointerColor:"#72C7E7",degrees:30,label:""},r=1;return{templateUrl:"components/knob/knob.html",restrict:"AE",scope:{knob:"=",value:"=",disabled:"=?",mapToPercentage:"=?",mapFromPercentage:"=?"},link:function(a,i){function o(e){var t=e.keyCode;!a.disabled&&t>=37&&40>=t&&a.$apply(function(){e.preventDefault();var n=1+9*e.shiftKey;d({37:-1,38:1,39:1,40:-1}[t]*n)})}function s(e){a.disabled||a.$apply(function(){var t=-e.detail||e.wheelDeltaX,n=-e.detail||e.wheelDeltaY,r=t>0||n>0?1:0>t||0>n?-1:0;e.preventDefault(),d(r)})}function l(e,n){var r=i[0].getBoundingClientRect();a.disabled||(a.centerX=r.left+r.width/2,a.centerY=r.top+r.height/2,t.on(e,c),t.on(n,function(){t.off(e,c)}))}function c(e){var t,n=e.changedTouches?e.changedTouches[0]:e,r=a.centerX-n.pageX,i=a.centerY-n.pageY,o=180*Math.atan2(-i,-r)/Math.PI+90-a.config.startAngle;e.preventDefault(),0>o&&(o+=360),o%=360,t=o<=a.range?Math.max(Math.min(1,o/a.range),0):+(o-a.range<(360-a.range)/2),t=100*t,a.value=a.mapFromPercentage.bind(a.config)(t),a.$apply()}function d(e){var t;a.angle=u(a.angle+a.config.degrees*e),t=(a.angle-a.config.startAngle)/a.range*100,a.value=a.mapFromPercentage.bind(a.config)(t)}function u(e){var t=a.config.startAngle+a.range;return e<a.config.startAngle?a.config.startAngle:e>t?t:e}var p,f={keydown:o.bind(this),mousewheel:s.bind(this),DOMMouseScroll:s.bind(this),touchstart:l.bind(this,"touchmove","touchend"),mousedown:l.bind(this,"mousemove","mouseup")};a.knobShadow="knobshadow_"+r++,i[0].tabIndex=0;for(var g in f)i.on(g,f[g]);if(!a.knob.ticks&&!a.knob.step&&e.isNumber(a.knob.min)&&e.isNumber(a.knob.max)&&(a.knob.steps=a.knob.max-a.knob.min,a.knob.step=1),a.config=e.extend({},n,a.knob),a.knob&&a.knob.ticks)a.ticks=a.config.ticks=a.knob.ticks;else{for(a.ticks=[],p=0;p<=a.config.steps;p++)a.ticks[p]=a.config.min+p*a.config.step;a.config.ticks=a.ticks}a.range=(a.ticks.length-1)*a.config.degrees,a.checkDisabled=function(){return a.disabled?"opacity:0.5;cursor:auto":"cursor:grab"},a.mapToPercentage||(a.mapToPercentage=function(e){var t=this.max-this.min;return(e-this.min)/t*100}),a.mapFromPercentage||(a.mapFromPercentage=function(e){return this.min+(this.max-this.min)*e/100}),a.$watch("value",function(e){a.percentage=a.mapToPercentage.bind(a.config)(e),a.angle=a.config.startAngle+a.range*a.percentage/100})}}}])}(angular),function(e){"use strict";e.module("explorer.legend",[]).directive("explorerLegend",["$modal",function(e){return{scope:{legend:"=",heading:"=?"},controller:["$scope",function(e){e.heading||(e.heading="Legend"),e.showing=!1}],link:function(t,n){var r;n.on("click",function(){return t.showing?void r.close(null):(r=e.open({templateUrl:"components/legend/legend.html",windowClass:"legendContainer",size:"sm",controller:["$scope","$modalInstance","legend","heading",function(e,t,n,r){e.legend=n,e.heading=r}],backdrop:!1,resolve:{legend:function(){return t.legend},heading:function(){return t.heading}}}),r.result.then(function(){t.showing=!1},function(){t.showing=!1}),void(t.showing=!0))})}}}])}(angular),function(e){"use strict";e.module("explorer.message",[]).directive("explorerMessages",["messageService",function(e){return{restrict:"AE",controller:"MessageController",templateUrl:"components/message/messages.html?v=1",link:function(e,t,n,r){}}}]).factory("messageService",["$rootScope",function(e){return{warn:function(e){this._message("warn",e)},success:function(e){this._message("success",e)},info:function(e){this._message("info",e)},error:function(e){this._message("error",e)},clear:function(){e.$broadcast("message.clear")},_message:function(t,n){e.$broadcast("message.posted",{type:t,text:n,time:new Date})}}}]).controller("MessageController",["$scope","$timeout","$rootScope",function(e,t,n){e.controller="MessageController",e.persistDuration=12e3,e.historicCount=10,e.message=null,e.historic=[],n.$on("message.posted",function(n,r){var a=e.$root.$$phase;"$apply"==a||"$digest"==a?e.message=r:this.$apply(function(){e.message=r}),t.cancel(e.timeout),e.timeout=t(function(){e.$apply(function(){e.removeMessage()})},e.persistDuration)}),n.$on("message.cleared",e.removeMessage),e.removeMessage=function(){for(e.timeout=null,e.historic.splice(0,1,e.message);e.historic.length>10;)e.historic.pop();e.message=null}}]).run(["$rootScope","messageService",function(t,n){t.$on("message:info",function(e,t){n.info(t)}),t.$on("message:error",function(e,t){n.error(t)}),t.$on("message:success",function(e,t){n.success(t)}),t.$on("message:warn",function(e,t){n.warn(t)}),t.$on("message:clear",function(e){n.warn(e)}),t.$on("messages",function(n,r){r=r?e.isArray(r)?r:[r]:[],e.forEach(r,function(e){t.$broadcast("message:"+e.type.toLowerCase(),e.text)})})}])}(angular),function(e){"use strict";e.module("explorer.modal",[]).directive("expModal",["$document","$animate","modalService",function(e,t,n){return{restrict:"EA",transclude:!0,replace:!0,scope:{iconClass:"@",title:"@",containerStyle:"@",template:"=",placement:"@",animation:"&",onClose:"&",isOpen:"=",isModal:"="},templateUrl:"components/modal/modal.html",link:function(e,t){function r(t){27==t.which&&(t.stopPropagation(),t.preventDefault(),e.$apply(function(){e.isOpen=!1}))}e.$watch("isOpen",function(a,i){a?(t.css("zIndex",n.index()),t.on("keyup",r)):(t.off("keyup",r),a!=i&&(n.closed(),e.onClose())),e.$on("$destroy",function(){t.off("keyup",r)})})}}}]).directive("expModalUp",["$document","$animate","modalService",function(e,t,n){return{link:function(e,t){t.on("mousedown",function(r){e.isModal&&(e.modalIndex=n.index()),t.css("zIndex",n.index())})}}}]).factory("modalService",[function(){var e=1030,t=e,n=0;return{index:function(){return 0===n&&(t=e),n++,t++},closed:function(){n--,0>n&&(n=0)}}}])}(angular),function(e,t){"use strict";e.module("explorer.persist",["explorer.projects"]).provider("persistService",function(){var e=null;this.$get=["persistLocalService","persistRemoteService",function(t,n){return"local"==e?t:n}],this.handler=function(t){e=t}}).factory("persistRemoteService",["$log","$q","projectsService","serverPersistService","userService",function(e,n,r,a,i){return{setGlobalItem:function(e,t){this._setItem("_system",e,t)},setItem:function(e,t){r.getCurrentProject().then(function(n){this._setItem(n,e,t)}.bind(this))},_setItem:function(n,r,o){e.debug("Fetching state for key "+r),i.getUsername().then(function(e){t.setItem("mars."+e+"."+n+"."+r,JSON.stringify(o)),a.persist(n,r,o)})},getGlobalItem:function(e){return this._getItem("_system",e)},getItem:function(e){var t=n.defer();return r.getCurrentProject().then(function(n){this._getItem(n,e).then(function(e){t.resolve(e)})}.bind(this)),t.promise},_getItem:function(r,o){e.debug("Fetching state for key "+o);var s=n.defer();return i.getUsername().then(function(e){var n=t.getItem("mars."+e+"."+r+"."+o);if(n){try{n=JSON.parse(n)}catch(i){}s.resolve(n)}else a.retrieve(r,o).then(function(e){s.resolve(e)},function(e){})}),s.promise}}}]).factory("serverPersistService",["$log","httpData","projectsService","userService","$q",function(t,n,r,a,i){return{persist:function(t,r,a){var o=i.defer();if(e.isString())try{JSON.parse(a)}catch(s){a='"'+a+'"'}return n.post("service/state/item/"+t+"/"+r,a).then(function(e){o.resolve(e)}),o.promise},retrieve:function(e,t){return n.get("service/state/item/"+e+"/"+t)}}}]).factory("persistLocalService",["$log","$q","projectsService",function(e,t,n){return{setGlobalItem:function(e,t){this._setItem("_system",e,t)},setItem:function(e,t){n.getCurrentProject().then(function(n){this._setItem(n,e,t)}.bind(this))},_setItem:function(t,n,r){e.debug("Fetching state for key locally"+n),localStorage.setItem("mars.anon."+t+"."+n,JSON.stringify(r))},getGlobalItem:function(e){return this._getItem("_system",e)},getItem:function(e){var r=t.defer();return n.getCurrentProject().then(function(t){this._getItem(t,e).then(function(e){r.resolve(e)})}.bind(this)),r.promise},_getItem:function(n,r){e.debug("Fetching state locally for key "+r);var a=localStorage.getItem("mars.anon."+n+"."+r);if(a)try{a=JSON.parse(a)}catch(i){}return t.when(a)}}}])}(angular,localStorage,sessionStorage),function(e){"use strict";e.module("explorer.ping",[]).provider("pingService",function(){var e="service/ping/keepalive",t=600,n=!0,r=null;this.location=function(t){e=t},this.enable=function(e){n=e},this.$get=["$http","$timeout",function(a,i){function o(){n&&a.post(e),r=i(o,1e3*t)}var s={enable:function(e){n=e},period:function(e){t=e},start:function(){}};return o(),s}]})}(angular),function(e){"use strict";e.module("explorer.popover",[]).directive("expPopover",[function(){return{templateUrl:"components/popover/popover.html",restrict:"A",transclude:!0,scope:{closeOnEscape:"@",show:"=",containerClass:"=",direction:"@"},link:function(e,t){function n(t){27==t.which&&(t.stopPropagation(),t.preventDefault(),e.$apply(function(){e.show=!1}))}e.direction||(e.direction="bottom"),!e.closeOnEscape||e.closeOnEscape!==!0&&"true"!==e.closeOnEscape||t.on("keyup",n)}}}])}(angular),function(e,t){"use strict";e.module("mars.print",[]).directive("marsPrintMap",[function(){return{template:'<i class="fa fa-print"></i>',link:function(e,n){n.on("click",function(){t.print()})}}}])}(angular,window),function(e){"use strict";e.module("explorer.projects",[]).provider("projectsService",function(){var e="<NONE>";this.$get=["$q","$timeout","$http",function(t,n,r){var a="service/appConfig/projects?t=";return{getCurrentProject:function(){return t.when(e)},getProjects:function(){var e=t.defer();return this.projects&&n(function(){e.resolve(this.projects)}.bind(this)),r.get(a+(new Date).getTime()).then(function(t){this.projects=t,e.resolve(this.projects)}.bind(this)),e.promise}}}],this.setProject=function(t){e=t}})}(angular),angular.module("explorer.resizelistener",[]).directive("resizeListener",function(e){return function(t,n){var r=angular.element(e);t.getWindowDimensions=function(){return{h:r.height(),w:r.width()}},t.$watch(t.getWindowDimensions,function(e,n){t.windowHeight=e.h,t.windowWidth=e.w,t.style=function(){return{height:e.h-100+"px",width:e.w-100+"px"}}},!0),r.bind("resize",function(){t.$apply()})}}),function(e,t){"use strict";e.module("nedf.splash",["explorer.projects"]).directive("marsSplash",["$rootScope","$modal","$log","userService",function(e,t,n,r){return{controller:["$scope","splashService",function(e,t){e.acceptedTerms=!0,t.getReleaseNotes().then(function(t){e.releaseMessages=t,e.acceptedTerms=r.hasAcceptedTerms()})}],link:function(a,i){var o;a.$watch("acceptedTerms",function(e){e||(o=t.open({templateUrl:"partials/splash.html",size:"lg",backdrop:"static",keyboard:!1,controller:["$scope","$modalInstance","acceptedTerms","messages",function(e,t,n,r){e.acceptedTerms=n,e.messages=r,e.accept=function(){t.close(!0)}}],resolve:{acceptedTerms:function(){return a.acceptedTerms},messages:function(){return a.messages}}}),o.result.then(function(e){n.info("Accepted terms"),a.acceptedTerms=e,r.setAcceptedTerms(e)},function(){n.info("Modal dismissed at: "+new Date)}))}),e.$on("logoutRequest",function(){r.setAcceptedTerms(!1)})}}}]).factory("splashService",["$http","$q","projectsService",function(e,n,r){function a(e){e?t.setItem(o,!0):t.removeItem(o)}function i(){return!!t.getItem(o)}var o="nedf.accepted.terms",s="service/releaseNotes/";return{getReleaseNotes:function(){var t=n.defer();return r.getCurrentProject().then(function(n){e({method:"GET",url:s+n+"?t="+Date.now()}).then(function(e){t.resolve(e.data)})}),t.promise},hasViewedSplash:i,setHasViewedTerms:a}}]).filter("priorityColor",[function(){var e={IMPORTANT:"red",HIGH:"blue",MEDIUM:"orange",LOW:"gray"};return function(t){return t in e?e[t]:"black"}}]).filter("wordLowerCamel",function(){return function(e){return e.charAt(0)+e.substr(1).toLowerCase()}}).filter("sortNotes",[function(){return function(e){var t=e.slice(0).sort(function(e,t){return e.priority==t.priority?e.lastUpdate==t.lastUpdate?0:t.lastUpdate-e.lastUpdate:"IMPORTANT"==e.priority?-11:1});return t}}])}(angular,sessionStorage),function(e,t){"use strict";t.module("mars.splitter",[]).directive("marsExpand",["$rootScope","$timeout",function(t,n){return{link:function(r,a,i){var o=function(){var n=e("#horizontal").data("kendoSplitter");r.marsRightView==i.marsExpand?(n.collapse(".mainSplitterRight"),r.marsRightView=null):(n.expand(".mainSplitterRight"),r.marsRightView=i.marsExpand,t.$broadcast("show.right.panel",i.marsExpand))};a.on("click",function(){n.cancel(r.marsRightExpandTimeout),o()}),a.on("mouseenter",function(e){r.marsRightExpandTimeout=n(o,400)}),a.on("mouseleave",function(){n.cancel(r.marsRightExpandTimeout)}),t.$on("right.tab.deselected",function(){n(function(){e("#horizontal").data("kendoSplitter").collapse(".mainSplitterRight"),r.marsRightView=null})})}}}]).directive("marsSplitter",["$rootScope","$timeout","mapService",function(t,n,r){return{link:function(a,i,o){r.getMap().then(function(e){this.map=e}.bind(this)),i.kendoSplitter({panes:[{collapsible:!1},{collapsible:!0,collapsed:!0,size:"360px"}],resize:function(t){setTimeout(function(){var t=i.find(".rightPane").width()+7;e(".marsExpandContainer").css("right",t+"px")},0)}}),t.$on("vertical.tab.deselected",function(){n(function(){i.data("kendoSplitter").collapse(".rightPane")})})}}}]).controller("MapSlideController",["$scope","$rootScope","$timeout",function(e,t,n){e.controller="MapSlideController",e.scrollTop=0,e.filterNames={point:!0,line:!0,area:!0,network:!0},e.cancelHide=function(){n.cancel(e.hideTimeout)},e.delayedRightHide=function(){e.pinnedRight||(e.hideRightTimeout=n(function(){e.lastView="",t.$broadcast("right.tab.deselected")},3e3))},e.cancelRightHide=function(){n.cancel(e.hideRightTimeout)},e.show=function(r){n.cancel(e.showTimeout),r==e.lastView?e.showTimeout=n(function(){e.lastView="",t.$broadcast("vertical.tab.deselected")},400):n(function(){e.lastView=r,t.$broadcast("vertical.tab.selected",r)},400)},e.$on("pinned.right.changed",function(t,n){e.pinnedRight=n}),e.$on("pinned.left.changed",function(t,n){e.pinnedLeft=n}),e.toggleShow=function(e){e||(e=this.feature),e.displayed=e.handleShow()},e.viewLegend=function(e){}}])}($,angular),function(e){"use strict";e.module("explorer.switch",[]).directive("explorerSwitch",[function(){return{restrict:"EA",scope:{disabled:"=",onLabel:"@",offLabel:"@",knobLabel:"@",model:"="},template:'<div role="radio" class="toggle-switch" ng-class="{ \'disabled\': disabled }"><div class="toggle-switch-animate" ng-class="{\'switch-off\': !model, \'switch-on\': model}"><span class="switch-left switch-text" ng-bind="onLabel"></span><span class="switch-label-text" ng-bind="knobLabel"></span><span class="switch-right switch-text" ng-bind="offLabel"></span></div></div>',link:function(e,t){e.onLabel||(e.onLabel="On"),e.offLabel||(e.offLabel="Off"),e.knobLabel||(e.knobLabel="Â "),e.disabled||(e.disabled=!1),t.on("click",function(){e.$apply(e.toggle)}),e.toggle=function(){e.disabled||(e.model=!e.model)}}}}])}(angular),function(e){"use strict";e.module("explorer.tabs",[]).controller("tabsController",["$scope","$document",function(e,t){var n=300,r=window.innerWidth||document.documentElement.clientWidth,a=540;e.view="",e.contentWidth=0,e.contentLeft=0,e.winHeight=window.innerHeight||document.documentElement.clientHeight,e.setView=function(t){e.view===t?(e.view="",a=e.contentWidth,e.contentWidth=0,e.contentLeft=0):(e.view=t,e.contentWidth=a,e.contentLeft=e.contentWidth)},e.catchResize=function(){function n(t){e.doResize(t)}function r(){t.off("mousemove",n),t.off("mouseup",r)}t.on("mousemove",n),t.on("mouseup",r)},e.doResize=function(t){var i=r-t.pageX;i=i>n?i:n,e.contentWidth=i,e.contentLeft=i,a=i,e.$apply()},e.callback=function(){}}])}(angular),angular.module("exp.ui.templates",[]).run(["$templateCache",function(e){e.put("components/confirm/confirm.html",'<div class="modal-header">\r\n   <h3 class="modal-title" style="font-weight:bolder">Confirm</h3>\r\n</div>\r\n<div class="modal-body" id="accept" style="width: 100%; margin-left: auto; margin-right: auto;">\r\n	<div>\r\n		{{message}}\r\n	</div>	\r\n	<div style="text-align: right;padding-top:10px">\r\n		<button type="button" class="btn btn-default" style="width:4em" ng-click="accept()" focus-me="true">OK</button>\r\n		<button type="button" class="btn btn-default" style="width:4em" ng-click="reject()">Cancel</button>\r\n	</div>\r\n</div>'),
e.put("components/flasher/flash.html",'<div class="fred marsFlash" ng-show="messages.items.length > 0">\r\n  <div ng-repeat="message in messages.items">\r\n     <span><img alt="Waiting..." src="resources/img/tinyloader.gif" ng-show="message.spinner" style="position:relative;top:2px;" width="12"></img> {{message.text}}</span>\r\n  </div>\r\n</div>'),e.put("components/footer/footer.html",'<!-- Footer -->\r\n<nav class="navbar navbar-inverse navbar-fixed-bottom ga-footer" role="navigation" mars-footer>\r\n    <div class="container-fluid">\r\n        <div class="navbar-header">\r\n            <button type="button" class="navbar-toggle" data-toggle="collapse"\r\n                    data-target="#bs-example-navbar-collapse-1">\r\n                <span class="sr-only">Toggle footer</span>\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n            </button>\r\n        </div>\r\n        <div class="navbar-nobrand">\r\n            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n                <ul class="nav navbar-nav">\r\n                    <li><a href="http://creativecommons.org/licenses/by/3.0/au/deed.en"><img src="data:image/png;base64,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" height="20px" alt="CC BY 3.0 AU"></img></a></li>\r\n                    <li><a href="http://www.ga.gov.au/copyright">Copyright</a></li>\r\n                    <li><a href="http://www.ga.gov.au/disclaimer">Disclaimer</a></li>\r\n                    <li><a href="http://www.ga.gov.au/privacy">Privacy</a></li>\r\n                    <li><a href="http://www.ga.gov.au/accessibility">Accessibility</a></li>\r\n                    <li><a href="http://www.ga.gov.au/ips">Information Publication Scheme</a></li>\r\n                    <li><a href="http://www.ga.gov.au/ips/foi">Freedom of Information</a></li>\r\n                    <li class="contact"><a href="http://www.ga.gov.au/contact-us" target="_blank">Contact us</a> </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nav>'),e.put("components/graph/lineGraph.html",'<div class="lineGraphContainer" style="width:100%; position:relative"> \r\n	<img src="resources/img/aspect_10x1.png" style="width:100%;" class="aspect10x1"></img>\r\n	<div style="position: absolute;	top: 0px; left: 0px; height: 100%;width:100%" >\r\n		<svg class="lineGraphSvg" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1050 105" \r\n					ng-mouseenter="mouseEnter($event)" ng-mouseleave="mouseLeave($event)" ng-mousemove="mouseMove($event)" ng-click="mouseClick($event)">\r\n			<g>\r\n				<text y="16" x="57" style="fill-opacity:0.6; font-size:120%">{{config.heading}}</text>\r\n			</g>\r\n  			<g transform="translate(0, 2)">\r\n  				<g class="zeroLine" ng-show="showZeroLine && minY < 0">\r\n					<line x1="50" ng-attr-y1="{{90 * (1 + minY/rangeY)}}" x2="1050" ng-attr-y2="{{90 * (1 + minY/rangeY)}}" style="stroke:blue" stroke-width="1" stroke-opacity="0.6" />\r\n				</g>\r\n  				<g ng-repeat="points in data" class="context" style="cursor:pointer" transform="translate(50)" explorer-line>\r\n					<path ng-attr-fill="{{points.style.fill}}" class="area" ng-attr-d="{{path}}" ng-attr-fill-opacity="{{points.style.fillOpacity}}"></path>\r\n					<path ng-attr-d="{{line}}" ng-attr-stroke="{{points.style.stroke}}" ng-attr-stroke-width="{{points.style.strokeWidth}}" fill-opacity="0"></path> \r\n				</g>\r\n  				<g class="xAxis">\r\n					<line x1="50" y1="90" x2="1050" y2="90" style="stroke:black" />\r\n					<text transform="translate(1040 88)" y="4" dy=".71em" style="text-anchor:end">{{config.xLabel}}</text>\r\n				</g>\r\n				<g class="yAxis">\r\n					<line x1="50" y1="0" x2="50" y2="90" style="stroke:black" />\r\n					<text transform="rotate(-90) translate(-10)" y="6" dy=".71em" style="text-anchor:end">{{config.yLabel}}</text>\r\n					<g ng-repeat="tick in yTicks">\r\n						<text font-size="80%" style="text-anchor:end;" ng-attr-transform="translate(45 {{90 * (1 - (tick - minY)/ rangeY) +3}})">{{round(tick)}}</text>\r\n						<line x1="45" x2="50" ng-attr-y1="{{90 * (1 - (tick - minY)/ rangeY)}}" ng-attr-y2="{{90 * (1 - (tick - minY)/ rangeY)}}" style="stroke:black"></line>\r\n					</g>\r\n				</g>\r\n				<g visibility="visible" ng-show="position">\r\n					<line x1="{{50 + position.graphX}}" y1="-5" x2="{{50 + position.graphX}}" y2="95" style="stroke:black" />\r\n  				</g>\r\n  			</g>\r\n  			<g transform="translate(0 88)">\r\n				<text y="6" dy=".71em" transform="translate(50)">{{config.leftText}}</text>\r\n				<text y="6" dy=".71em" transform="translate(250)">{{config.middleText}}</text>\r\n  			</g>\r\n		</svg>\r\n	</div>\r\n</div>'),e.put("components/header/header.html",'<div class="container-full" style="padding-right:10px; padding-left:10px">\r\n    <div class="navbar-header">\r\n\r\n        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".ga-header-collapse">\r\n            <span class="sr-only">Toggle navigation</span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n        </button>\r\n\r\n        <a href="http://www.ga.gov.au" class="hidden-xs"><img src="resources/css/images/geoscience_inline_padded_small.png" alt="Australian Government - Geoscience Australia" class="logo"></img></a>\r\n        <a href="http://www.ga.gov.au" class="visible-xs"><img src="resources/css/images/geoscience_stacked_padded_small.png" alt="Australian Government - Geoscience Australia" class="logo-stacked"></img></a>\r\n        <a href="#/" class="appTitle visible-xs"><h1 style="font-size:120%">{{heading}}</h1></a>\r\n    </div>\r\n    <div class="navbar-collapse collapse ga-header-collapse">\r\n        <ul class="nav navbar-nav">\r\n            <li class="hidden-xs"><a href="#/"><h1 class="applicationTitle">{{heading}}</h1></a></li>\r\n        </ul>\r\n        <ul class="nav navbar-nav navbar-right">				\r\n        	<li mars-user-details ng-show="username" role="menuitem" style="padding-right:10px"></li>\r\n			<li mars-version-display role="menuitem"></li>\r\n			<li style="width:10px"></li>\r\n        </ul>\r\n        <div class="breadcrumbsContainer hidden-xs">\r\n            <ul class="breadcrumbs">\r\n                <li class="first"><a href="/">Home</a></li>\r\n            </ul>\r\n        </div>\r\n    </div><!--/.nav-collapse -->\r\n</div>\r\n\r\n<!-- Strap -->\r\n<div class="row">\r\n    <div class="col-md-12">\r\n        <div class="strap-blue">\r\n        </div>\r\n        <div class="strap-white">\r\n        </div>\r\n        <div class="strap-red">\r\n        </div>\r\n    </div>\r\n</div>\r\n'),e.put("components/info/info.html",'<div class="marsinfo" ng-show="isOpen">\r\n	<div class="marsinfo-inner">\r\n      <h3 ng-show="title" ng-bind="title" class="marsinfo-title"></h3>\r\n      <div class="marsinfo-content" ng-transclude></div>\r\n	</div>\r\n</div>'),e.put("components/knob/knob.html",'<input class="preset1" type="range" tabindex="-1" style="position: absolute; top: -10000px;" knob-handler>\r\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg"  width="100%" height="100%" class="knob" viewbox="0 0 200 200" ng-attr-style="{{checkDisabled()}}">\r\n	<defs>\r\n   		<filter id="{{knobShadow}}" height="150%" width="150%">\r\n       		<feGaussianBlur in="SourceAlpha" stdDeviation="2"/>\r\n   	    	<feOffset dx="0" dy="3" result="offsetblur"/>\r\n        	<feMerge>\r\n	   	        <feMergeNode/>\r\n    	   	    <feMergeNode in="SourceGraphic"/>\r\n	       	</feMerge>\r\n	   	</filter>\r\n	</defs>\r\n	<circle cx="100" cy="100" r="60.606061" ng-attr-style="filter:url(#{{knobShadow}});fill:{{config.circleColor}}"></circle>\r\n	<rect x="97" y="39.4" width="6" height="40" class=" pointer" ng-attr-transform="rotate({{angle}} 100 100)" ng-attr-fill={{config.pointerColor}}></rect>\r\n	<g class=" scale">\r\n		<text ng-repeat="tick in ticks" x="95" y="23.8" width="10" height="10" \r\n				ng-attr-transform="rotate({{config.startAngle + $index * config.degrees + 3}} 100 100)" style="text-anchor:middle">{{tick}}</text>\r\n	</g>\r\n	<g>\r\n		<text y="175" dy=".71em" x="100" style="text-anchor:middle; font-weight:bold">{{config.label}}</text>\r\n	</g>\r\n</svg>'),e.put("components/legend/legend.html",'<div>    \r\n    <div class="modal-header" drag-parent parentClass="legendContainer">\r\n        <h4 class="modal-title">{{heading}}</h4>\r\n    </div>\r\n	<div class="legendImageContainer" style="max-height:450px;overflow-y:auto; overflow-x:hidden;padding-bottom:5px"> \r\n		<img ng-src="{{legend}}"></img>\r\n	</div>\r\n</div>\r\n'),e.put("components/message/messages.html",'\r\n<span ng-controller="MessageController" style="z-index:3">\r\n  <span ng-show="historic.length > 10000">\r\n    <a href="javascript:;" title="Show recent messages"><i class="fa fa-comments-o" style="color:black"></i></a>\r\n  </span>\r\n  <div ng-show="message" class="alert" role="alert" \r\n  		ng-class=\'{"alert-success":(message.type=="success"),"alert-info":(message.type=="info"),"alert-warning":(message.type=="warn"),"alert-danger":(message.type=="error")}\'>\r\n    {{message.text}} <a href="javascript:;" ng-click="removeMessage()"><i class="fa fa-times-circle" style="font-size:120%"></i></a>\r\n  </div>\r\n</div>'),e.put("components/modal/modal.html",'<div class="exp-modal-outer">\r\n	<div class="exp-backdrop fade  in" ng-show="isModal && isOpen" \r\n		ng-class="{in: animate}"></div>\r\n	<div class="exp-modal" ng-show="isOpen" exp-modal-up>\r\n		<div class="exp-modal-inner">\r\n    	  <div drag-parent parentClass="exp-modal-outer" class="exp-modal-title" ng-show="title">\r\n      		<i class="fa" ng-class="iconClass"></i> \r\n      		<span ng-bind="title"></span>\r\n      		<button title="Close popup dialog" ng-click="isOpen=false" class="exp-modal-close" type="button"><i class="fa fa-close"></i></button> \r\n	      </div>      \r\n    	  <div class="exp-modal-content" style="{{containerStyle}}" ng-class="{\'exp-modal-no-title\':!title}" ng-transclude></div>\r\n		</div>\r\n	</div>\r\n</div>'),e.put("components/popover/popover.html",'<div class="popover {{direction}}" ng-class="containerClass" ng-show="show">\r\n  <div class="arrow"></div>\r\n  <div class="popover-inner" ng-transclude></div>\r\n</div>'),e.put("components/user/userdetails.html",'<span class="badge" title="Your are logged in">Logon: {{username}}</span>'),e.put("components/usermaps/add-maps.html",'<div>\r\n	<div class="marsMapsTreeview">\r\n		\r\n		<p style="text-align: left; margin: 10px; font-size: 16px; padding: 40px 5px 0px 0px;">\r\n			<strong>Your Maps:</strong>\r\n		</p>\r\n		\r\n		<div add-maps></div>\r\n	</div>\r\n	<layer-inspector active="active"></layer-inspector>\r\n</div>'),e.put("components/usermaps/addmaps.html",'<div ng-form>\r\n	<div ng-repeat="map in maps | orderBy : \'name\'" style="padding:7px;padding-left:10px;position:relative;height:1.4em" ng-class-even="\'even\'" ng-class-odd="\'active\'">\r\n		<div style="float:left">\r\n			<a href="javascript:;" class="featureLink" ng-click="makeActive()" ng-class="{active:(map == active)}" >\r\n				{{map.name}} \r\n			</a>\r\n		</div>\r\n		<div style="float:right">\r\n			<a class="featureLink" href="javascript:;" title="Show legend for this map" ng-show="map.legendUrl" heading="map.name + \' Legend\'"\r\n				explorer-legend legend="map.legendUrl"><i class="fa fa-list-ul"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Edit the map" \r\n				ng-click="editMap()"><i class="fa fa-pencil"></i></a>	\r\n			<a class="featureLink" href="javascript:;" title="Show on map" \r\n				ng-click="toggleShow()"><i class="fa" ng-class="{\'fa-eye\':(!map.layer.visibility), \'fa-eye-slash\':map.layer.visibility}"></i></a>	\r\n			<a href="javascript:" exp-confirm="\'Are you sure that you want to delete this map?\'" success="removeMap()" title="Remove map from application. Cannot be undone.">\r\n				<i class="fa fa-remove" title="Remove this feature from your added maps."></i>\r\n			</a>						\r\n		</div>\r\n	</div>\r\n	<vectors-display vectors="vectors"></vectors-display>\r\n	\r\n	<accordion>\r\n		<accordion-group heading="{{status.edit && \'Edit\' || \'Add\'}} a map..." is-open="status.mapOpen">\r\n			<div class="addMapsDialog">\r\n				<div>\r\n					<label for="addMapsName">Name</label>\r\n					<input type="text" ng-model="work.name" id="addMapsName" required="required"/>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsDescription">Description</label>\r\n					<input type="text" ng-model="work.description" id="addMapsDescription"/>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsUrl">WMS URL</label>\r\n					<input type="text" ng-model="work.url" id="addMapsUrl" required="required"/>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsLayers">Layers</label>\r\n					<div ng-repeat="layer in work.layers | reverse" ng-class-even="\'even\'" ng-class-odd="\'active\'">\r\n						<div style="padding:2px">\r\n							{{layer}}\r\n							<div style="float:right">\r\n								<a class="featureLink" href="javascript:;" title="Move layer higher on map" ng-disabled="$first"\r\n									ng-click="shuffleDown()"><i class="fa fa-arrow-up"></i></a>	\r\n								<a class="featureLink" href="javascript:;" title="Move layer lower on map" ng-disabled="$last"\r\n									ng-click="shuffleUp()"><i class="fa fa-arrow-down"></i></a>	\r\n								<a href="javascript:" exp-confirm="\'Are you sure that you want to delete this map?\'" success="removeLayer()" title="Remove map from application.">\r\n									<i class="fa fa-remove" title="Remove this layer from your added maps."></i>\r\n								</a>						\r\n							</div>\r\n						</div>\r\n					</div>\r\n					<input ng-model="workLayer" ng-required="work.layers.length == 0" \r\n							exp-enter="addLayer()" title="Hit enter after entering each layer to add the layer"/>\r\n					<button ng-click="addLayer()" title="You can also use the enter key to add layer from the previous input">Add</button>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsThumbnailUrl">Thumbnail URL</label>\r\n					<input type="text" ng-model="work.thumbnailUrl"/>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsLegendUrl">Legend URL</label>\r\n					<input type="text" ng-model="work.legendUrl"/>\r\n				</div>\r\n			</div>\r\n	\r\n			<div class="addMapButtons">\r\n				<div  class="buttons" style="float:right">\r\n					<button type="button" class="btn btn-default" ng-click="clear()" title="Abandon updates">Cancel</button>\r\n					<button type="button" class="btn btn-default" ng-click="addMap($event)" ng-disabled="!isComplete()" \r\n								title="Click to complete updates">{{status.edit && \'Update\' || \'Add\'}}</button>\r\n				</div>\r\n			</div>\r\n		</accordion-group>\r\n		<accordion-group heading="{{status.vectorEdit && \'Edit\' || \'Add\'}} a vector..." is-open="status.vectorOpen">\r\n			<div mars-vector-edit vectors="vectors">\r\n		</accordion-group>\r\n	</accordion>\r\n</div>'),e.put("components/usermaps/vectorDisplay.html",'<div ng-repeat="vector in vectors | orderBy : \'name\'" style="padding:7px;padding-left:10px;position:relative;min-height:1.4em" ng-class-even="\'even\'" ng-class-odd="\'active\'">\r\n	<div ng-show="vector.layer.features.length < 2" style="clear:both">\r\n		<div style="float:left">\r\n			<a href="javascript:;" class="featureLink" ng-click="makeActive()" ng-class="{active:(vector == active)}" >\r\n				{{vector.name}} \r\n			</a>\r\n		</div>\r\n		<div style="float:right">\r\n			<a class="featureLink" href="javascript:;" title="Plot feature\'s elevation" ng-show="isPath()" \r\n				ng-click="showElevation()"><i class="fa fa-align-left fa-rotate-270"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Edit the vector layer" \r\n				ng-click="vectorEdit()"><i class="fa fa-pencil"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Show on map" \r\n				ng-click="toggle()"><i class="fa" ng-class="{\'fa-eye\':(!vector.show), \'fa-eye-slash\':vector.show}"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Pan map to feature" \r\n				ng-click="panToVector()"><i class="fa fa-flag"></i></a>	\r\n			<a href="javascript:"  title="Remove vector layer. Cannot be undone."\r\n				exp-confirm="\'Are you sure that you want to delete this map?\'" success="remove()"><i class="fa fa-remove"></i></a>						\r\n		</div>\r\n	</div>\r\n	\r\n	<div ng-show="vector.layer.features.length > 1" style="clear:both">\r\n		<div style="float:left">\r\n			<i class="fa fa-caret-right" ng-class="{\'fa-caret-down\':expanded,\'fa-caret-right\':(!expanded)}" role="presentation" ng-click="expanded = !expanded"></i> <strong>{{vector.name}}</strong>\r\n		</div>\r\n	\r\n		<div style="float:right">\r\n			<a class="featureLink" href="javascript:;" title="Edit the vector layer" \r\n				ng-click="vectorEdit()"><i class="fa fa-pencil"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Show on map" \r\n				ng-click="toggle()"><i class="fa" ng-class="{\'fa-eye\':(!vector.show), \'fa-eye-slash\':vector.show}"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Pan map to feature" \r\n				ng-click="panToVector()"><i class="fa fa-flag"></i></a>	\r\n			<a href="javascript:"  title="Remove vector layer. Cannot be undone."\r\n				exp-confirm="\'Are you sure that you want to delete this map?\'" success="remove()"><i class="fa fa-remove"></i></a>						\r\n		</div>\r\n		\r\n		<div style="clear:both" ng-show="expanded">\r\n			<div ng-repeat="feature in vector.layer.features">\r\n				<div style="float:left; padding-left:10px">\r\n					{{feature.fid ? feature.fid : feature.data.name ? feature.data.name : \'Feature #\' + $index}} \r\n				</div>\r\n				<div style="float:right">\r\n					<a class="featureLink" href="javascript:;" title="Plot feature\'s elevation" ng-show="isFeaturePath()" \r\n						ng-click="showFeatureElevation()"><i class="fa fa-align-left fa-rotate-270"></i></a>\r\n					<a class="featureLink" href="javascript:;" title="Pan map to feature" \r\n						ng-click="panToFeature()"><i class="fa fa-flag"></i></a>			\r\n				</div>\r\n				<div style="clear:both"></div>\r\n			</div>\r\n		</div>\r\n		\r\n	</div>\r\n</div>'),e.put("components/usermaps/vectorEdit.html",'<div class="addMapsDialog" ng-if="!status.vectorEdit">\r\n	<form method="POST" action="service/upload/file" enctype="multipart/form-data" ajax-form update="cancelVectorEdit()" cancel="cancelVectorEdit()">\r\n		<div>\r\n			<label for="addVectorName">Name</label>\r\n			<input type="text" ng-model="vector.name" id="addVectorName" name="vectorName" required="required"/>\r\n			<input type="hidden" name="clientSessionId" value="{{localClientSessionId}}" />\r\n		</div>\r\n		<div>\r\n			<label for="addVectorDescription">Description</label>\r\n			<input type="text" ng-model="vector.description" id="addVectorDescription" name="vectorDescription"/>\r\n		</div>\r\n		<div>\r\n			<label for="addVectorFile">Select file to upload</label>\r\n			<input type="file" name="vectorFile"/>\r\n		</div>\r\n	\r\n		<div class="addMapButtons">\r\n			<div  class="buttons" style="float:right">\r\n				<button type="reset" class="btn btn-default" title="Cancel adding vector file">Cancel</button>\r\n				<button type="submit" class="btn btn-default" title="Add  vector file" value="Add Vector File">Add</button>\r\n			</div>\r\n		</div>\r\n	</form>\r\n</div>\r\n<div class="addMapsDialog" ng-if="status.vectorEdit">\r\n	<div>\r\n		<label for="addVectorName">Name</label>\r\n		<input type="text" ng-model="editVector.name" id="addVectorName" required="required"/>\r\n	</div>\r\n	<div>\r\n		<label for="addVectorDescription">Description</label>\r\n		<input type="text" ng-model="editVector.description" id="addVectorDescription"/>\r\n	</div>	\r\n	<div class="addMapButtons">\r\n		<div  class="buttons" style="float:right">\r\n			<button type="button" class="btn btn-default" ng-click="cancelVectorEdit()" title="Cancel adding vector file">Cancel</button>\r\n			<button type="button" class="btn btn-default" ng-click="saveVectors()" title="Save updates for future sessions">Save</button>\r\n		</div>\r\n	</div>\r\n</div>\r\n'),e.put("components/version/versionDisplay.html",'<span class="badge">Version: {{version}}</span>\r\n')}]),function(e){"use strict";e.module("explorer.toolbar",[]).directive("expToolbar",[function(){return{restrict:"AE",scope:!0,controller:["$scope",function(e){e.item="",e.parameters={},e.toggleItem=function(t){e.item=e.item==t?"":t},this.toggleItem=function(t){e.item=e.item==t?"":t},this.currentItem=function(){return e.item}}]}}])}(angular),function(e,t,n){"use strict";e.module("explorer.user",[]).directive("marsUserDetails",["userService","$rootScope","$location",function(e,t,n){return{restrict:"EA",templateUrl:"components/user/userdetails.html",link:function(t,n,r){e.getUsername().then(function(e){t.username=e})}}}]).provider("userService",function(){var e="service/appConfig/status";this.url=function(t){e=t},this.$get=["$http","$q","$timeout",function(r,a,i){function o(){n.location.reload()}function s(e){e?t.setItem("mars.accepted.terms",!0):t.removeItem("mars.accepted.terms")}function l(){return!!t.getItem("mars.accepted.terms")}function c(){return r.get(e+"?time="+(new Date).getTime())}var d;return{login:function(){o()},hasAcceptedTerms:function(){return l()},setAcceptedTerms:function(e){s(e)},getUsername:function(){var e;return d?a.when(d):(e=a.defer(),c().then(function(t){t&&(d=t.data.username),e.resolve(d)}),e.promise)}}}]})}(angular,sessionStorage,window),function(e){"use strict";e.module("explorer.usermaps",["explorer.persist.local","explorer.flasher","explorer.vector"]).directive("addMaps",["userMapService","persistService","flashService","vectorService",function(t,n,r,a){return{templateUrl:"components/usermaps/addmaps.html",controller:["$scope",function(i){function o(e,t,n){if(n>=e.length)for(var r=n-e.length;r--+1;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}function s(t){var n={};return e.forEach(u,function(e,r){n[r]=t[r]}),n}function l(){i.status.edit&&c()}function c(){var e=[];i.maps&&i.maps.forEach(function(t){e.push(s(t))}),n.setItem("userMaps",e)}function d(e){return e.isWrapped?e:(e.isWrapped=!0,e.layer||t.addLayer(e,!1),e.handleShow=function(){return this.layer.setVisibility(this.layer.visibility?!1:!0),this.layer.visibility},e)}var u={assetId:"",name:"",description:"",url:"",legendUrl:"",layers:[],projection:"EPSG:3857",thumbnailUrl:""},p="";n.getItem("userMaps").then(function(t){t?(t.forEach(function(t){e.isString(t.layers)&&(t.layers=t.layers.split(","))}),i.maps=t):i.maps=[],p=JSON.stringify(i.maps)}),a.restore().then(function(e){i.vectors=e}),i.active=null,i.status={mapOpen:!1,vectorOpen:!1},i.clearOpen=function(){i.status.mapOpen=i.status.vectorOpen=!1},i.setOpen=function(e){i.clearOpen(),i.status[e+"Open"]=!0},i.work=e.copy(u),i.editMap=function(){i.status.edit=!0,i.status.editDisplayed=this.map.displayed,i.setOpen("map"),i.work=this.map,r.add("Updates are immediately saved.",3e3)},i.toggleShow=function(){t.toggleShow(this.map)},i.makeActive=function(){i.active=d(this.map)},i.addMap=function(){var n=i.work;i.status.edit?i.status.edit=!1:(n.assetId="map"+Date.now(),i.maps.push(n)),t.removeLayer(n),i.clearOpen(),i.work=e.copy(u),r.add("Your map has been saved.",3e3),c()},i.addLayer=function(){var e=!1,n=this.workLayer.trim();n&&(i.work.layers.forEach(function(t){e|=t==n}),e?r.add("Duplicate layer names are not allowed",3e3):(r.add("Refreshing view with new layer.",3e3),i.work.layers.push(n),this.workLayer="",t.refreshLayer(i.work,!0),l()))},i.shuffleUp=function(){var e=i.work.layers.indexOf(this.layer);0!==e&&(r.add("Refreshing view with new layer order.",3e3),o(i.work.layers,e,e-1),t.refreshLayer(i.work,!0),l())},i.shuffleDown=function(){var e=i.work.layers.indexOf(this.layer);e!=i.work.layers.length-1&&(r.add("Refreshing view with new layer order.",3e3),o(i.work.layers,e,e+1),t.refreshLayer(i.work,!0),l())},i.removeLayer=function(){var e=i.work.layers.indexOf(this.layer);i.work.layers.splice(e,1),i.work.layers.length?r.add("Refreshing view with new layer order.",3e3):r.add("No preview of map with no layers.",3e3),t.refreshLayer(i.work,!0),c()},i.clear=function(){i.work=e.copy(u),i.status.edit=!1,i.clearOpen()},i.isTestable=function(){return i.work&&i.work.url&&i.work.layers},i.isComplete=function(){return i.isTestable()&&i.work.name},i.removeMap=function(){var e=i.maps.indexOf(this.map);e>-1&&(t.removeLayer(this.map),i.maps.splice(e,1),this.map==i.active&&(i.active=null)),i.status.edit=!1,c()},i.$watch("removalCandidate",function(e){}),i.$watch("status.open",function(n,r){"map"!=n&&"map"==r&&(t.refreshLayer(i.work,i.status.editDisplayed),i.work=e.copy(u),i.status.edit=!1,i.status.editDisplayed=!1,c())})}]}}]).factory("userMapService",["mapService","$q",function(e,t){return{toggleShow:function(e){e.layer&&e.layer.map?this.removeLayer(e):this.addLayer(e)},refreshLayer:function(e,n){var r;return e.layer?(r=t.defer(),this.removeLayer(e).then(function(t){n&&(this.addLayer(e),r.resolve(e))}.bind(this)),r.promise):n&&e.url&&e.layers&&e.layers.length>0?this.addLayer(e):t.when(e)},addLayer:function(n,r){var a=t.defer();if("undefined"==typeof r&&(r=!0),n.displayed=r,n.layer){if(n.layer.map)return n.layer.setVisibility(r),t.when(n);e.getMap().then(function(e){e.addLayer(n.layer),a.resolve(n)})}else n.type="WMS",n.param1=n.url,n.param2={layers:n.layers,transparent:!0},n.param3={visibility:r,isBaseLayer:!1,opacity:1,legend:n.legend},n.layer=e.createLayer(n),e.getMap().then(function(e){e.addLayer(n.layer),a.resolve(n)});return t.promise},removeLayer:function(n){if(n.layer&&n.layer.map){var r=t.defer();return e.getMap().then(function(e){e.removeLayer(n.layer),n.layer=null,n.displayed=!1,r.resolve(n)}),r.promise}return t.when(n)}}}])}(angular),function(e,t,n){"use strict";e.module("explorer.vector",["explorer.flasher","explorer.broker","explorer.persist.local","explorer.message","explorer.config"]).directive("marsVectorEdit",["vectorService","flashService","persistService","brokerService","messageService","configService",function(e,t,n,r,a,i){return{templateUrl:"components/usermaps/vectorEdit.html",require:"^addMaps",link:function(t){i.getConfig().then(function(e){t.localClientSessionId=e.localClientSessionId},function(e){}),r.register("addVectorData",{process:function(n){if(n.data){var r=n.data,i={id:"userVector_"+(new Date).getTime(),name:r.vectorName.content,description:r.vectorDescription.content,dataStr:r.vectorFile.content,
fileName:r.vectorFile.fileName,show:!0};i.layer=e.createLayer(i.dataStr,i),i.layer?(t.vectors[i.name]=i,e.persist(t.vectors)):a.error("No GML or KML features found. Are you sure that was a valid vector data file?")}}}),t.saveVectors=function(){t.cancelVectorEdit(),e.persist(t.vectors)},t.cancelVectorEdit=function(){t.clearOpen(),t.status.vectorEdit=!1,t.editVector=null},t.clearVector=function(){}}}}]).directive("vectorsDisplay",["vectorService",function(e){return{templateUrl:"components/usermaps/vectorDisplay.html?v=1",restrict:"AE",require:"^addMaps",link:function(t,n){t.showElevation=function(){e.showElevation(this.vector)},t.showFeatureElevation=function(){e.showElevation(this.vector,this.feature)},t.isPath=function(){return this.vector.layer&&this.vector.layer.features&&1==this.vector.layer.features.length&&this.vector.layer.features[0].geometry&&"OpenLayers.Geometry.LineString"==this.vector.layer.features[0].geometry.CLASS_NAME},t.isFeaturePath=function(){return this.feature.geometry&&("OpenLayers.Geometry.LineString"==this.feature.geometry.CLASS_NAME||"OpenLayers.Geometry.MultiLineString"==this.feature.geometry.CLASS_NAME)},t.toggle=function(){this.vector.show?e.hideLayer(this.vector.layer):e.showLayer(this.vector.layer),this.vector.show=!this.vector.show},t.remove=function(){e.hideLayer(this.vector.layer),delete t.vectors[this.vector.name],e.persist(t.vectors)},t.vectorEdit=function(){t.editVector=this.vector,t.setOpen("vector"),t.status.vectorEdit=!0},t.panToVector=function(){e.panTo(this.vector.layer)},t.panToFeature=function(){e.panToFeature(this.feature)}}}}]).directive("ajaxForm",["flashService","$rootScope","asynch","configService",function(e,t,n,r){return{scope:{update:"&",cancel:"&"},link:function(r,a){var i;r.quit=function(){r.cancel()},a.ajaxForm({beforeSubmit:function(a,o,s){r.cancel(),n.expect(),s.dataType="xml",t.safeApply(function(){i=e.add("Processing file...",4e3)})},success:function(n){t.safeApply(function(){e.remove(i)})}})}}}]).service("vectorService",["mapService","persistService","$q","$rootScope",function(n,r,a,i){var o,s="userVectorLayers",l={},c="http://www.opengis.net/gml",d="http://www.opengis.net/wfs",u="http://www.opengis.net/kml";return n.getMap().then(function(e){o=e}),{_whatType:function(e){return e?e.indexOf(u)>-1?"kml":e.indexOf(d)>-1?"wfs":e.indexOf(c)>-1?"gml":void 0:null},_boundsPlusPercent:function(e,n){var r=(e.right-e.left)*n,a=(e.top-e.bottom)*n;return new t.Bounds(e.left-r,e.bottom-a,e.right+r,e.top+a)},persist:function(t){var n=[];e.forEach(t,function(e){var t={id:e.id,name:e.name,description:e.description,dataStr:e.dataStr,show:e.show};n.push(t)}),r.setItem(s,n,!0)},restore:function(){var e=this,t=a.defer();return n.getMap().then(function(n){r.getItem(s).then(function(n){var r={};n&&n.forEach(function(t){t.show=!1,t.layer=e.createLayer(t.dataStr,t),t.dataStr&&t.name&&t.id&&(r[t.name]=t)}),t.resolve(r)})}),t.promise},createLayer:function(e,n){var r,a=l[n.name],i=this._whatType(e);return a||("kml"==i?r=new t.Format.KML({internalProjection:o.baseLayer.projection,externalProjection:new t.Projection("EPSG:4326"),extractAttributes:!0,extractStyles:!0}):("wfs"==i||"gml"==i)&&(r=new t.Format.GML({internalProjection:o.baseLayer.projection,externalProjection:new t.Projection("EPSG:4326"),extractAttributes:!0,extractStyles:!0})),r&&(a=new t.Layer.Vector(n.name),a.addFeatures(r.read(e)),l[n.name]=a)),a&&n.show&&!a.map&&o.addLayer(a),a},showLayer:function(e){this.hideLayer(e),o.addLayer(e)},hideLayer:function(e){e.map&&o.removeLayer(e)},panTo:function(e){var t=this._boundsPlusPercent(e.getDataExtent(),.2);n.getMap().then(function(e){e.zoomToExtent(t)})},panToFeature:function(e){e.geometry.calculateBounds();var t=this._boundsPlusPercent(e.geometry.bounds,.2);n.getMap().then(function(n){e.geometry.calculateBounds(),n.zoomToExtent(t)})},showElevation:function(e,n){n||(n=e.layer.features[0]);var r=n.geometry,a=r.clone().transform(new t.Projection("EPSG:3857"),new t.Projection("EPSG:4326")).getGeodesicLength(),o={length:a,geometry:r,heading:"KML"};i.$broadcast("elevation.plot.data",o)}}}])}(angular,OpenLayers,XMLSerializer),function(e){"use strict";e.module("explorer.version",[]).directive("marsVersionDisplay",["$http","versionService",function(e,t){return{templateUrl:"components/version/versionDisplay.html",link:function(n){e.get(t.url()).then(function(e){n.version=e.data.version})}}}]).provider("versionService",function(){var e="service/appConfig/version";this.url=function(t){e=t},this.$get=function(){return{url:function(){return e}}}})}(angular),angular.module("explorer.tabs.left",[]).controller("tabsLeftController",["$scope","$document",function(e,t){var n=400,r=(window.innerWidth||document.documentElement.clientWidth,700);e.view="",e.contentWidth=0,e.winHeight=window.innerHeight||document.documentElement.clientHeight,e.setView=function(t){e.view===t?(e.view="",r=e.contentWidth,e.contentWidth=0):(e.view=t,e.contentWidth=r)},e.catchResize=function(){function n(t){e.doResize(t)}function r(){t.off("mousemove",n),t.off("mouseup",r)}t.on("mousemove",n),t.on("mouseup",r)},e.doResize=function(t){var a=t.pageX+2;a=a>n?a:n,e.contentWidth=a,r=a,e.$apply()}}]),function(e){"use strict";e.module("explorer.waiting",[]).factory("waiting",["$q",function(e){function t(){this.waiting=[],this.length=0,this.waiter=function(){var t=e.defer();return this.waiting.push(t),this.length++,t},this.resolve=function(e){this.waiting.forEach(function(t){t.resolve(e)}),this.waiting=[],this.length=0},this.reject=function(e){this.waiting.forEach(function(t){t.reject(e)}),this.waiting=[],this.length=0},this.notify=function(e){this.waiting.forEach(function(t){t.notify(e)})}}return{wait:function(){return new t}}}])}(angular),function(e,t){"use strict";e.module("mars.zoom",[]).directive("marsZoomExtent",["zoomService","flashService",function(e,t){return{restrict:"AE",scope:{item:"="},link:function(n,r,a){function i(){var r=n.item,a="zoomIn"==r?"":"zoomIn";"zoomIn"==r?e.deactivateBoundingBox():"zoomIn"==a&&(t.add("Drag diagonally to zoom to an area",4e3),e.activateBoundingBox().then(function(t){n.item="",e.zoomTo(t)})),n.item=a}r.on("click",i)}}}]).directive("marsZoomOutExtent",["zoomService",function(e){return{template:'<i class="fa fa-search-minus"></i>',link:function(t,n,r){n.on("click",function(){e.zoomOut()})}}}]).factory("zoomService",["mapService","$log","$q",function(e,n,r){var a,i,o={};return{activateBoundingBox:function(){return o.deferred=r.defer(),null===a?(i=new t.Layer.Vector("Prepare to define an area to zoom to"),a=new t.Control.DrawFeature(i,t.Handler.RegularPolygon,{handlerOptions:{sides:4,irregular:!0},featureAdded:function(){n.debug("Bounding box drawn"),e.getMap().then(function(){var e=i.features[0],t=e.geometry.clone().getBounds();a.deactivate(),i.destroyFeatures(),o.deferred.resolve(t)})}}),e.getMap().then(function(e){e.addLayer(i),e.addControl(a),a.activate()})):a.activate(),o.deferred.promise},zoomTo:function(e){i.map.zoomToExtent(e)},zoomOut:function(){e.getMap().then(function(e){var t,n=e.zoom;n<=e.getMinZoom()||(t=10>n?n-1:13>n?n-2:n-3,e.zoomTo(t))})},deactivateBoundingBox:function(){this.isActiveBoundingBox()&&a.deactivate(),i&&i.removeAllFeatures()},isActiveBoundingBox:function(){return null!==a&&a.active},destroyBoundingBox:function(){a&&e.getMap().then(function(e){e.removeControl(a),e.removeLayer(i),a.destroy(),a=i=null})}}}])}(angular,OpenLayers),angular.module("exp.ui.templates",[]).run(["$templateCache",function(e){e.put("components/confirm/confirm.html",'<div class="modal-header">\r\n   <h3 class="modal-title" style="font-weight:bolder">Confirm</h3>\r\n</div>\r\n<div class="modal-body" id="accept" style="width: 100%; margin-left: auto; margin-right: auto;">\r\n	<div>\r\n		{{message}}\r\n	</div>	\r\n	<div style="text-align: right;padding-top:10px">\r\n		<button type="button" class="btn btn-default" style="width:4em" ng-click="accept()" focus-me="true">OK</button>\r\n		<button type="button" class="btn btn-default" style="width:4em" ng-click="reject()">Cancel</button>\r\n	</div>\r\n</div>'),e.put("components/flasher/flash.html",'<div class="fred marsFlash" ng-show="messages.items.length > 0">\r\n  <div ng-repeat="message in messages.items">\r\n     <span><img alt="Waiting..." src="resources/img/tinyloader.gif" ng-show="message.spinner" style="position:relative;top:2px;" width="12"></img> {{message.text}}</span>\r\n  </div>\r\n</div>'),e.put("components/footer/footer.html",'<!-- Footer -->\r\n<nav class="navbar navbar-inverse navbar-fixed-bottom ga-footer" role="navigation" mars-footer>\r\n    <div class="container-fluid">\r\n        <div class="navbar-header">\r\n            <button type="button" class="navbar-toggle" data-toggle="collapse"\r\n                    data-target="#bs-example-navbar-collapse-1">\r\n                <span class="sr-only">Toggle footer</span>\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n            </button>\r\n        </div>\r\n        <div class="navbar-nobrand">\r\n            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n                <ul class="nav navbar-nav">\r\n                    <li><a href="http://creativecommons.org/licenses/by/3.0/au/deed.en"><img src="data:image/png;base64,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" height="20px" alt="CC BY 3.0 AU"></img></a></li>\r\n                    <li><a href="http://www.ga.gov.au/copyright">Copyright</a></li>\r\n                    <li><a href="http://www.ga.gov.au/disclaimer">Disclaimer</a></li>\r\n                    <li><a href="http://www.ga.gov.au/privacy">Privacy</a></li>\r\n                    <li><a href="http://www.ga.gov.au/accessibility">Accessibility</a></li>\r\n                    <li><a href="http://www.ga.gov.au/ips">Information Publication Scheme</a></li>\r\n                    <li><a href="http://www.ga.gov.au/ips/foi">Freedom of Information</a></li>\r\n                    <li class="contact"><a href="http://www.ga.gov.au/contact-us" target="_blank">Contact us</a> </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nav>'),e.put("components/graph/lineGraph.html",'<div class="lineGraphContainer" style="width:100%; position:relative"> \r\n	<img src="resources/img/aspect_10x1.png" style="width:100%;" class="aspect10x1"></img>\r\n	<div style="position: absolute;	top: 0px; left: 0px; height: 100%;width:100%" >\r\n		<svg class="lineGraphSvg" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1050 105" \r\n					ng-mouseenter="mouseEnter($event)" ng-mouseleave="mouseLeave($event)" ng-mousemove="mouseMove($event)" ng-click="mouseClick($event)">\r\n			<g>\r\n				<text y="16" x="57" style="fill-opacity:0.6; font-size:120%">{{config.heading}}</text>\r\n			</g>\r\n  			<g transform="translate(0, 2)">\r\n  				<g class="zeroLine" ng-show="showZeroLine && minY < 0">\r\n					<line x1="50" ng-attr-y1="{{90 * (1 + minY/rangeY)}}" x2="1050" ng-attr-y2="{{90 * (1 + minY/rangeY)}}" style="stroke:blue" stroke-width="1" stroke-opacity="0.6" />\r\n				</g>\r\n  				<g ng-repeat="points in data" class="context" style="cursor:pointer" transform="translate(50)" explorer-line>\r\n					<path ng-attr-fill="{{points.style.fill}}" class="area" ng-attr-d="{{path}}" ng-attr-fill-opacity="{{points.style.fillOpacity}}"></path>\r\n					<path ng-attr-d="{{line}}" ng-attr-stroke="{{points.style.stroke}}" ng-attr-stroke-width="{{points.style.strokeWidth}}" fill-opacity="0"></path> \r\n				</g>\r\n  				<g class="xAxis">\r\n					<line x1="50" y1="90" x2="1050" y2="90" style="stroke:black" />\r\n					<text transform="translate(1040 88)" y="4" dy=".71em" style="text-anchor:end">{{config.xLabel}}</text>\r\n				</g>\r\n				<g class="yAxis">\r\n					<line x1="50" y1="0" x2="50" y2="90" style="stroke:black" />\r\n					<text transform="rotate(-90) translate(-10)" y="6" dy=".71em" style="text-anchor:end">{{config.yLabel}}</text>\r\n					<g ng-repeat="tick in yTicks">\r\n						<text font-size="80%" style="text-anchor:end;" ng-attr-transform="translate(45 {{90 * (1 - (tick - minY)/ rangeY) +3}})">{{round(tick)}}</text>\r\n						<line x1="45" x2="50" ng-attr-y1="{{90 * (1 - (tick - minY)/ rangeY)}}" ng-attr-y2="{{90 * (1 - (tick - minY)/ rangeY)}}" style="stroke:black"></line>\r\n					</g>\r\n				</g>\r\n				<g visibility="visible" ng-show="position">\r\n					<line x1="{{50 + position.graphX}}" y1="-5" x2="{{50 + position.graphX}}" y2="95" style="stroke:black" />\r\n  				</g>\r\n  			</g>\r\n  			<g transform="translate(0 88)">\r\n				<text y="6" dy=".71em" transform="translate(50)">{{config.leftText}}</text>\r\n				<text y="6" dy=".71em" transform="translate(250)">{{config.middleText}}</text>\r\n  			</g>\r\n		</svg>\r\n	</div>\r\n</div>'),e.put("components/header/header.html",'<div class="container-full" style="padding-right:10px; padding-left:10px">\r\n    <div class="navbar-header">\r\n\r\n        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".ga-header-collapse">\r\n            <span class="sr-only">Toggle navigation</span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n        </button>\r\n\r\n        <a href="http://www.ga.gov.au" class="hidden-xs"><img src="resources/css/images/geoscience_inline_padded_small.png" alt="Australian Government - Geoscience Australia" class="logo"></img></a>\r\n        <a href="http://www.ga.gov.au" class="visible-xs"><img src="resources/css/images/geoscience_stacked_padded_small.png" alt="Australian Government - Geoscience Australia" class="logo-stacked"></img></a>\r\n        <a href="#/" class="appTitle visible-xs"><h1 style="font-size:120%">{{heading}}</h1></a>\r\n    </div>\r\n    <div class="navbar-collapse collapse ga-header-collapse">\r\n        <ul class="nav navbar-nav">\r\n            <li class="hidden-xs"><a href="#/"><h1 class="applicationTitle">{{heading}}</h1></a></li>\r\n        </ul>\r\n        <ul class="nav navbar-nav navbar-right">				\r\n        	<li mars-user-details ng-show="username" role="menuitem" style="padding-right:10px"></li>\r\n			<li mars-version-display role="menuitem"></li>\r\n			<li style="width:10px"></li>\r\n        </ul>\r\n        <div class="breadcrumbsContainer hidden-xs">\r\n            <ul class="breadcrumbs">\r\n                <li class="first"><a href="/">Home</a></li>\r\n            </ul>\r\n        </div>\r\n    </div><!--/.nav-collapse -->\r\n</div>\r\n\r\n<!-- Strap -->\r\n<div class="row">\r\n    <div class="col-md-12">\r\n        <div class="strap-blue">\r\n        </div>\r\n        <div class="strap-white">\r\n        </div>\r\n        <div class="strap-red">\r\n        </div>\r\n    </div>\r\n</div>\r\n'),e.put("components/info/info.html",'<div class="marsinfo" ng-show="isOpen">\r\n	<div class="marsinfo-inner">\r\n      <h3 ng-show="title" ng-bind="title" class="marsinfo-title"></h3>\r\n      <div class="marsinfo-content" ng-transclude></div>\r\n	</div>\r\n</div>'),e.put("components/knob/knob.html",'<input class="preset1" type="range" tabindex="-1" style="position: absolute; top: -10000px;" knob-handler>\r\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg"  width="100%" height="100%" class="knob" viewbox="0 0 200 200" ng-attr-style="{{checkDisabled()}}">\r\n	<defs>\r\n   		<filter id="{{knobShadow}}" height="150%" width="150%">\r\n       		<feGaussianBlur in="SourceAlpha" stdDeviation="2"/>\r\n   	    	<feOffset dx="0" dy="3" result="offsetblur"/>\r\n        	<feMerge>\r\n	   	        <feMergeNode/>\r\n    	   	    <feMergeNode in="SourceGraphic"/>\r\n	       	</feMerge>\r\n	   	</filter>\r\n	</defs>\r\n	<circle cx="100" cy="100" r="60.606061" ng-attr-style="filter:url(#{{knobShadow}});fill:{{config.circleColor}}"></circle>\r\n	<rect x="97" y="39.4" width="6" height="40" class=" pointer" ng-attr-transform="rotate({{angle}} 100 100)" ng-attr-fill={{config.pointerColor}}></rect>\r\n	<g class=" scale">\r\n		<text ng-repeat="tick in ticks" x="95" y="23.8" width="10" height="10" \r\n				ng-attr-transform="rotate({{config.startAngle + $index * config.degrees + 3}} 100 100)" style="text-anchor:middle">{{tick}}</text>\r\n	</g>\r\n	<g>\r\n		<text y="175" dy=".71em" x="100" style="text-anchor:middle; font-weight:bold">{{config.label}}</text>\r\n	</g>\r\n</svg>'),e.put("components/legend/legend.html",'<div>    \r\n    <div class="modal-header" drag-parent parentClass="legendContainer">\r\n        <h4 class="modal-title">{{heading}}</h4>\r\n    </div>\r\n	<div class="legendImageContainer" style="max-height:450px;overflow-y:auto; overflow-x:hidden;padding-bottom:5px"> \r\n		<img ng-src="{{legend}}"></img>\r\n	</div>\r\n</div>\r\n'),e.put("components/message/messages.html",'\r\n<span ng-controller="MessageController" style="z-index:3">\r\n  <span ng-show="historic.length > 10000">\r\n    <a href="javascript:;" title="Show recent messages"><i class="fa fa-comments-o" style="color:black"></i></a>\r\n  </span>\r\n  <div ng-show="message" class="alert" role="alert" \r\n  		ng-class=\'{"alert-success":(message.type=="success"),"alert-info":(message.type=="info"),"alert-warning":(message.type=="warn"),"alert-danger":(message.type=="error")}\'>\r\n    {{message.text}} <a href="javascript:;" ng-click="removeMessage()"><i class="fa fa-times-circle" style="font-size:120%"></i></a>\r\n  </div>\r\n</div>'),e.put("components/modal/modal.html",'<div class="exp-modal-outer">\r\n	<div class="exp-backdrop fade  in" ng-show="isModal && isOpen" \r\n		ng-class="{in: animate}"></div>\r\n	<div class="exp-modal" ng-show="isOpen" exp-modal-up>\r\n		<div class="exp-modal-inner">\r\n    	  <div drag-parent parentClass="exp-modal-outer" class="exp-modal-title" ng-show="title">\r\n      		<i class="fa" ng-class="iconClass"></i> \r\n      		<span ng-bind="title"></span>\r\n      		<button title="Close popup dialog" ng-click="isOpen=false" class="exp-modal-close" type="button"><i class="fa fa-close"></i></button> \r\n	      </div>      \r\n    	  <div class="exp-modal-content" style="{{containerStyle}}" ng-class="{\'exp-modal-no-title\':!title}" ng-transclude></div>\r\n		</div>\r\n	</div>\r\n</div>'),e.put("components/popover/popover.html",'<div class="popover {{direction}}" ng-class="containerClass" ng-show="show">\r\n  <div class="arrow"></div>\r\n  <div class="popover-inner" ng-transclude></div>\r\n</div>'),e.put("components/user/userdetails.html",'<span class="badge" title="Your are logged in">Logon: {{username}}</span>'),e.put("components/usermaps/add-maps.html",'<div>\r\n	<div class="marsMapsTreeview">\r\n		\r\n		<p style="text-align: left; margin: 10px; font-size: 16px; padding: 40px 5px 0px 0px;">\r\n			<strong>Your Maps:</strong>\r\n		</p>\r\n		\r\n		<div add-maps></div>\r\n	</div>\r\n	<layer-inspector active="active"></layer-inspector>\r\n</div>'),e.put("components/usermaps/addmaps.html",'<div ng-form>\r\n	<div ng-repeat="map in maps | orderBy : \'name\'" style="padding:7px;padding-left:10px;position:relative;height:1.4em" ng-class-even="\'even\'" ng-class-odd="\'active\'">\r\n		<div style="float:left">\r\n			<a href="javascript:;" class="featureLink" ng-click="makeActive()" ng-class="{active:(map == active)}" >\r\n				{{map.name}} \r\n			</a>\r\n		</div>\r\n		<div style="float:right">\r\n			<a class="featureLink" href="javascript:;" title="Show legend for this map" ng-show="map.legendUrl" heading="map.name + \' Legend\'"\r\n				explorer-legend legend="map.legendUrl"><i class="fa fa-list-ul"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Edit the map" \r\n				ng-click="editMap()"><i class="fa fa-pencil"></i></a>	\r\n			<a class="featureLink" href="javascript:;" title="Show on map" \r\n				ng-click="toggleShow()"><i class="fa" ng-class="{\'fa-eye\':(!map.layer.visibility), \'fa-eye-slash\':map.layer.visibility}"></i></a>	\r\n			<a href="javascript:" exp-confirm="\'Are you sure that you want to delete this map?\'" success="removeMap()" title="Remove map from application. Cannot be undone.">\r\n				<i class="fa fa-remove" title="Remove this feature from your added maps."></i>\r\n			</a>						\r\n		</div>\r\n	</div>\r\n	<vectors-display vectors="vectors"></vectors-display>\r\n	\r\n	<accordion>\r\n		<accordion-group heading="{{status.edit && \'Edit\' || \'Add\'}} a map..." is-open="status.mapOpen">\r\n			<div class="addMapsDialog">\r\n				<div>\r\n					<label for="addMapsName">Name</label>\r\n					<input type="text" ng-model="work.name" id="addMapsName" required="required"/>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsDescription">Description</label>\r\n					<input type="text" ng-model="work.description" id="addMapsDescription"/>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsUrl">WMS URL</label>\r\n					<input type="text" ng-model="work.url" id="addMapsUrl" required="required"/>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsLayers">Layers</label>\r\n					<div ng-repeat="layer in work.layers | reverse" ng-class-even="\'even\'" ng-class-odd="\'active\'">\r\n						<div style="padding:2px">\r\n							{{layer}}\r\n							<div style="float:right">\r\n								<a class="featureLink" href="javascript:;" title="Move layer higher on map" ng-disabled="$first"\r\n									ng-click="shuffleDown()"><i class="fa fa-arrow-up"></i></a>	\r\n								<a class="featureLink" href="javascript:;" title="Move layer lower on map" ng-disabled="$last"\r\n									ng-click="shuffleUp()"><i class="fa fa-arrow-down"></i></a>	\r\n								<a href="javascript:" exp-confirm="\'Are you sure that you want to delete this map?\'" success="removeLayer()" title="Remove map from application.">\r\n									<i class="fa fa-remove" title="Remove this layer from your added maps."></i>\r\n								</a>						\r\n							</div>\r\n						</div>\r\n					</div>\r\n					<input ng-model="workLayer" ng-required="work.layers.length == 0" \r\n							exp-enter="addLayer()" title="Hit enter after entering each layer to add the layer"/>\r\n					<button ng-click="addLayer()" title="You can also use the enter key to add layer from the previous input">Add</button>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsThumbnailUrl">Thumbnail URL</label>\r\n					<input type="text" ng-model="work.thumbnailUrl"/>\r\n				</div>\r\n				<div>\r\n					<label for="addMapsLegendUrl">Legend URL</label>\r\n					<input type="text" ng-model="work.legendUrl"/>\r\n				</div>\r\n			</div>\r\n	\r\n			<div class="addMapButtons">\r\n				<div  class="buttons" style="float:right">\r\n					<button type="button" class="btn btn-default" ng-click="clear()" title="Abandon updates">Cancel</button>\r\n					<button type="button" class="btn btn-default" ng-click="addMap($event)" ng-disabled="!isComplete()" \r\n								title="Click to complete updates">{{status.edit && \'Update\' || \'Add\'}}</button>\r\n				</div>\r\n			</div>\r\n		</accordion-group>\r\n		<accordion-group heading="{{status.vectorEdit && \'Edit\' || \'Add\'}} a vector..." is-open="status.vectorOpen">\r\n			<div mars-vector-edit vectors="vectors">\r\n		</accordion-group>\r\n	</accordion>\r\n</div>'),e.put("components/usermaps/vectorDisplay.html",'<div ng-repeat="vector in vectors | orderBy : \'name\'" style="padding:7px;padding-left:10px;position:relative;min-height:1.4em" ng-class-even="\'even\'" ng-class-odd="\'active\'">\r\n	<div ng-show="vector.layer.features.length < 2" style="clear:both">\r\n		<div style="float:left">\r\n			<a href="javascript:;" class="featureLink" ng-click="makeActive()" ng-class="{active:(vector == active)}" >\r\n				{{vector.name}} \r\n			</a>\r\n		</div>\r\n		<div style="float:right">\r\n			<a class="featureLink" href="javascript:;" title="Plot feature\'s elevation" ng-show="isPath()" \r\n				ng-click="showElevation()"><i class="fa fa-align-left fa-rotate-270"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Edit the vector layer" \r\n				ng-click="vectorEdit()"><i class="fa fa-pencil"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Show on map" \r\n				ng-click="toggle()"><i class="fa" ng-class="{\'fa-eye\':(!vector.show), \'fa-eye-slash\':vector.show}"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Pan map to feature" \r\n				ng-click="panToVector()"><i class="fa fa-flag"></i></a>	\r\n			<a href="javascript:"  title="Remove vector layer. Cannot be undone."\r\n				exp-confirm="\'Are you sure that you want to delete this map?\'" success="remove()"><i class="fa fa-remove"></i></a>						\r\n		</div>\r\n	</div>\r\n	\r\n	<div ng-show="vector.layer.features.length > 1" style="clear:both">\r\n		<div style="float:left">\r\n			<i class="fa fa-caret-right" ng-class="{\'fa-caret-down\':expanded,\'fa-caret-right\':(!expanded)}" role="presentation" ng-click="expanded = !expanded"></i> <strong>{{vector.name}}</strong>\r\n		</div>\r\n	\r\n		<div style="float:right">\r\n			<a class="featureLink" href="javascript:;" title="Edit the vector layer" \r\n				ng-click="vectorEdit()"><i class="fa fa-pencil"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Show on map" \r\n				ng-click="toggle()"><i class="fa" ng-class="{\'fa-eye\':(!vector.show), \'fa-eye-slash\':vector.show}"></i></a>\r\n			<a class="featureLink" href="javascript:;" title="Pan map to feature" \r\n				ng-click="panToVector()"><i class="fa fa-flag"></i></a>	\r\n			<a href="javascript:"  title="Remove vector layer. Cannot be undone."\r\n				exp-confirm="\'Are you sure that you want to delete this map?\'" success="remove()"><i class="fa fa-remove"></i></a>						\r\n		</div>\r\n		\r\n		<div style="clear:both" ng-show="expanded">\r\n			<div ng-repeat="feature in vector.layer.features">\r\n				<div style="float:left; padding-left:10px">\r\n					{{feature.fid ? feature.fid : feature.data.name ? feature.data.name : \'Feature #\' + $index}} \r\n				</div>\r\n				<div style="float:right">\r\n					<a class="featureLink" href="javascript:;" title="Plot feature\'s elevation" ng-show="isFeaturePath()" \r\n						ng-click="showFeatureElevation()"><i class="fa fa-align-left fa-rotate-270"></i></a>\r\n					<a class="featureLink" href="javascript:;" title="Pan map to feature" \r\n						ng-click="panToFeature()"><i class="fa fa-flag"></i></a>			\r\n				</div>\r\n				<div style="clear:both"></div>\r\n			</div>\r\n		</div>\r\n		\r\n	</div>\r\n</div>'),e.put("components/usermaps/vectorEdit.html",'<div class="addMapsDialog" ng-if="!status.vectorEdit">\r\n	<form method="POST" action="service/upload/file" enctype="multipart/form-data" ajax-form update="cancelVectorEdit()" cancel="cancelVectorEdit()">\r\n		<div>\r\n			<label for="addVectorName">Name</label>\r\n			<input type="text" ng-model="vector.name" id="addVectorName" name="vectorName" required="required"/>\r\n			<input type="hidden" name="clientSessionId" value="{{localClientSessionId}}" />\r\n		</div>\r\n		<div>\r\n			<label for="addVectorDescription">Description</label>\r\n			<input type="text" ng-model="vector.description" id="addVectorDescription" name="vectorDescription"/>\r\n		</div>\r\n		<div>\r\n			<label for="addVectorFile">Select file to upload</label>\r\n			<input type="file" name="vectorFile"/>\r\n		</div>\r\n	\r\n		<div class="addMapButtons">\r\n			<div  class="buttons" style="float:right">\r\n				<button type="reset" class="btn btn-default" title="Cancel adding vector file">Cancel</button>\r\n				<button type="submit" class="btn btn-default" title="Add  vector file" value="Add Vector File">Add</button>\r\n			</div>\r\n		</div>\r\n	</form>\r\n</div>\r\n<div class="addMapsDialog" ng-if="status.vectorEdit">\r\n	<div>\r\n		<label for="addVectorName">Name</label>\r\n		<input type="text" ng-model="editVector.name" id="addVectorName" required="required"/>\r\n	</div>\r\n	<div>\r\n		<label for="addVectorDescription">Description</label>\r\n		<input type="text" ng-model="editVector.description" id="addVectorDescription"/>\r\n	</div>	\r\n	<div class="addMapButtons">\r\n		<div  class="buttons" style="float:right">\r\n			<button type="button" class="btn btn-default" ng-click="cancelVectorEdit()" title="Cancel adding vector file">Cancel</button>\r\n			<button type="button" class="btn btn-default" ng-click="saveVectors()" title="Save updates for future sessions">Save</button>\r\n		</div>\r\n	</div>\r\n</div>\r\n'),
e.put("components/version/versionDisplay.html",'<span class="badge">Version: {{version}}</span>\r\n')}]);